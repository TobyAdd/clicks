Этот README также доступен на [английском](/README.md) языке.

# Кликбот ReplayEngine
Этот репозиторий предназначен для кликбота для RE. [Репозиторий RE](https://github.com/tobyadd/replayengine)

## Овервью

Этот кликбот используется для ReplayEngine, но Вы можете использовать его в своих проектах.

```shell
$ ./clicks.py -c="clickpack folder" -r="replay.re" -o="output.flac" \
    -s=300 -h=-1 -e=5 # данные аргументы опциональны
```
Собранные бинарники доступны в [релизах](https://github.com/tobyadd/clicks).

## Система парсеров

Кликбот использует систему "парсеров" (в виде плагинов). Имеется возможность добавить свой парсер создав в
папке `parsers` файл `parsername.py`, и обьявить в нем:

- **Константу** `name` с читаемым именем бота для которого пишется парсер (пример - `ReplayEngine`)
- **Константу** `wildcard` с вайлдкардом для имени файла (пример - `*.re`)
- **Класс** `Parser` имеющий:
  - метод `__init__`, с аргументами: (self, path) где:
    - path - путь к файлу
  - метод `parse`, возвращающий такой хеш:<br>
    `{"fps": ЧИСЛО, "replay": [`<br>
    `    {"frame": ЧИСЛО, "hold": БУЛ, "player": ЧИСЛО(1,2)},`<br>
    `    ...`<br>
    `]}`<br>

Когда кликбот сбилжен с помощью PyInstaller все парсеры "встраиваются" в сбилженый exe, и чтобы
добавить/удалить парсеры нужно перебилдить приложение. В стандартном дистрибутиве поставляеться
парсер ReplayEngine ([replayengine.py](/parsers/replayengine.py)), но он не единственный.
Не гнушайтесь форков для добавления парсеров.

## Кликпаки

Вот формат кликпака:
```
clickpack/
├─ p1/
│  ├─ softclicks/  # необязательно
│  │  ├─ holds/
│  │  ├─ releases/
│  ├─ hardclicks/  # необязательно
│  │  ├─ holds/
│  │  ├─ releases/
│  ├─ holds/
│  ├─ releases/
├─ p2/             # необязательно
│  ├─ softclicks/  # необязательно
│  │  ├─ holds/
│  │  ├─ releases/
│  ├─ hardclicks/  # необязательно
│  │  ├─ holds/
│  │  ├─ releases/
│  ├─ holds/
│  ├─ releases/
```

